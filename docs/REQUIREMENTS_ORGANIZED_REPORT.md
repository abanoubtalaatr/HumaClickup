# تقرير منظم لجميع المتطلبات المطلوبة

هذا التقرير يجمع كل ما تم طلبه في المحادثات وينظمه حسب المحاور، لاستخدامه في التخطيط والتنفيذ.

---

## المحور ١: المشروع عند الإنشاء

| # | المتطلب | التفاصيل | أين في النظام (مرجع) |
|---|---------|----------|------------------------|
| 1.1 | ربط المشروع بمجموعة (Group) | عند إنشاء المشروع نختار مجموعة معينة | جدول `projects`: إضافة `group_id` (أو علاقة many-to-many). Form إنشاء/تعديل المشروع. |
| 1.2 | عدد أيام المشروع | نكتب عدد أيام المشروع، مع **استبعاد الجمعة والسبت** (إجازة) | `projects`: حقل أو حساب "أيام العمل". Validation/Service يحسب الأيام بدون جمعة وسبت. |
| 1.3 | عدد التاسكات الأساسية إجباري | عدد التاسكات الأساسية = **عدد أفراد المجموعة × عدد أيام المشروع** | Validation عند إنشاء/تعديل المشروع (أو عند إغلاق الإعدادات). مقارنة مع عدد الـ tasks الفعلي لاحقاً. |
| 1.4 | توزيع التاسكات على الأشخاص | عدد التاسكات الأساسية **لكل شخص = عدد الأيام** | قواعد في TaskService أو عند إنشاء التاسكات؛ أو تحقق من أن كل عضو في المجموعة له عدد تاسكات مساوٍ لعدد الأيام. |
| 1.5 | الحد الأدنى لساعات التاسك | كل تاسك رئيسية: **أقل شيء ٦ ساعات**؛ إجمالي الـ subtasks = ٦ ساعات أو أكثر | Validation عند إنشاء/تعديل Task (estimated_time / estimated_minutes). |
| 1.6 | الحد الأدنى لساعات الأسبوع | إجمالي ساعات الطالب في الأسبوع (٥ أيام) **أقل شيء ٣٠ ساعة** | تحقق على مستوى المستخدم/المشروع (مجموع estimated أو logged للفرد في الأسبوع). |
| 1.7 | أتمتة وعدم تدخل يدوي | كل ما سبق يطبّق تلقائياً قدر الإمكان (تحذير/منع عند المخالفة)؛ التدخل فقط إضافة أو تعديل بيانات | Validation، Services، وقواعد في واجهات إنشاء المشروع والتاسكات. |

---

## المحور ٢: التيم الكامل (فرونت + باك + تستر + UI/UX + جرافيك + ماركتينج)

| # | المتطلب | التفاصيل | أين في النظام |
|---|---------|----------|----------------|
| 2.1 | تيم فرونت + تيم باك + تستر | مع كل تيم: نعرف مين فرونت، مين باك، مين تستر (بحيث يكون تيم كامل) | نموذج بيانات: دور داخل المجموعة أو المشروع (مثلاً `group_user` + `role_in_team`: frontend | backend | tester)، أو جدول project_members مع دور. |
| 2.2 | تيم UI/UX ولو أمكن جرافيك وماركتينج | نفس الفكرة: أدوار إضافية (UI/UX، جرافيك، ماركتينج) داخل التيم | نفس مصدر الأدوار (أوسع قائمة أدوار: frontend, backend, tester, ui_ux, graphics, marketing). |
| 2.3 | عرض التيم كامل | شاشة/قسم يعرض: تيم الفرونت مين، الباك مين، التستر مين، إلخ | View للمجموعة أو للمشروع تعرض الأعضاء مجمعين حسب الدور. |

---

## المحور ٣: تعيين الـ Guests والتسترات على المشروع

| # | المتطلب | التفاصيل | أين في النظام |
|---|---------|----------|----------------|
| 3.1 | عند إنشاء المشروع: تعيين مجموعة من الـ Guests | ٣–٥ أشخاص؛ من تراكات مختلفة (فرونت، باك، UI/UX، فلتر، …) | Form إنشاء المشروع: اختيار Group أو اختيار guests مع تراك كل واحد؛ ربطهم بالمشروع (جدول project_assignees أو project_members). |
| 3.2 | جزء من وقت المشروع للتست | **٢٠٪ من وقت المشروع** مخصص للتست | حساب من أيام/ساعات المشروع؛ استخدامه في قواعد الـ bugs (انظر 5.x) وفي إشعار التستر. |
| 3.3 | إشعار للتستر عند إنشاء المشروع | أول ما المشروع يتعمل: إشعار للـ **member اللي تيم تراك بتاعه Test** أننا محتاجين عدد معين من التسترات (مثلاً ٢) | بعد إنشاء المشروع: إرسال إشعار (جدول notifications + Notification class) للعضو صاحب تراك التست؛ المحتوى: "مطلوب X تستر على المشروع Y". |
| 3.4 | التستر يعيّن تسترات على المشروع | التستر يشوف الإشعار ويروح يعيّن ناس من عنده (تسترز) على المشروع | صفحة/واجهة "تعيين أعضاء على المشروع" أو "إدارة فريق المشروع" يصل لها التستر؛ إضافة مستخدمين بدور tester للمشروع. |

---

## المحور ٤: الإشعارات

| # | المتطلب | التفاصيل | أين في النظام |
|---|---------|----------|----------------|
| 4.1 | إشعارات للتستر والعضو والـ Guest | مثلاً: لما حد يتضاف على تاسك، أو يتعمل تعيين على مشروع، أو يصل طلب تستر | جدول notifications (أو Laravel notifications)؛ إرسال عند: تعيين assignees على task، تعيين أعضاء على مشروع، إنشاء مشروع (للتستر)، إلخ. |
| 4.2 | عرض الإشعارات لكل دور | التستر يشوف إشعارات التست؛ العضو إشعاراته؛ الضيف إشعاراته | صفحة أو dropdown إشعارات في الـ layout؛ فلترة حسب نوع المستلم والدور. |

---

## المحور ٥: التستر والـ Bugs

| # | المتطلب | التفاصيل | أين في النظام |
|---|---------|----------|----------------|
| 5.1 | التستر يكتب Bugs على الـ main task للـ Guest | التستر المعيّن على المشروع يقدر يكتب تاسكات نوع **bug** مرتبطة بالـ main task وتظهر للـ guest المعيّن عليها | إنشاء Task نوع bug مع related_task_id = الـ main task، وassignee = الـ guest؛ عرض الـ bugs في واجهة الضيف (موجود جزئياً). |
| 5.2 | إجمالي وقت الـ Bugs = ٢٠٪ من الـ main task | كل الـ bugs المرتبطة بنفس الـ main task: **مجموع estimation time = ٢٠٪ من estimation الـ main task** | Validation عند إنشاء/تعديل bug: جمع estimation كل الـ bugs للـ main task نفسه، والتحقق من ≤ ٢٠٪ من main task. |
| 5.3 | توزيع الـ ٢٠٪ على أكثر من bug | لو في أكثر من bug على نفس الـ main task، الـ ٢٠٪ **تتقسم** على كل الـ bugs | نفس التحقق: المجموع الكلي لـ estimation الـ bugs = ٢٠٪ من الـ main؛ التوزيع (اقتراح أو إدخال يدوي) في الـ estimation لكل bug. |

---

## المحور ٦: الـ Progress والحضور

| # | المتطلب | التفاصيل | أين في النظام |
|---|---------|----------|----------------|
| 6.1 | شغل يومي ٦ ساعات على الأقل | كل طالب يكون له شغل يومي **٦ ساعات على الأقل** (يمكن أكثر) | قواعد من 1.5 و 1.6؛ وعرض في الـ dashboard أو تقرير "ساعات اليوم/الأسبوع" لكل طالب. |
| 6.2 | Progress للطالب | الطالب يشوف **progress** (شريط تقدم) يتحقق كل ما يعمل حاجة **Done** في اليوم | حساب من التاسكات اللي statusها done في اليوم (أو من time logged)؛ عرض في dashboard الطالب أو صفحة "تقدمي". |
| 6.3 | الحضور قائم على إكمال الشغل | الحضور يُعتبر **بناءً على إكمال الشغل في اليوم** (ليس فقط check-in/out) | منطق يربط: "تم إكمال X ساعات أو X تاسكات done في اليوم" → يعتبر الطالب "أكمل يومه"؛ يمكن ربطه بجدول attendance أو حقل "completed_work_today". |
| 6.4 | المنتور يضغط "check حضور" | المنتور يقدر يضغط **check** أن الطالب حضر على المنصة | واجهة للمنتور (مثلاً قائمة الطلاب/الضيوف في اليوم) مع زر "تأكيد الحضور"؛ يحدّث سجل الحضور (Attendance أو جدول مشابه). |

---

## المحور ٧: حذف الـ Guest وعدم حذف التاسكات

| # | المتطلب | التفاصيل | أين في النظام |
|---|---------|----------|----------------|
| 7.1 | حذف الـ Guest مسموح | إمكانية حذف/إزالة guest من الـ workspace أو من المشروع | منطق حذف/إزالة المستخدم (مثلاً في WorkspaceController أو إدارة الأعضاء). |
| 7.2 | التاسكات لا تُحذف | تاسكات الـ guest **ما تتحذفش** عند حذفه؛ تبقى موجودة وقابلة لإعادة التعيين | عند إزالة الـ guest: عدم حذف الـ tasks؛ فقط إزالة الـ user من task_assignees (أو ترك التاسك "غير معيّن" حتى يعيّنه المنتور لشخص آخر). |

---

## المحور ٨: الفيدباك والتقرير للمنتور

| # | المتطلب | التفاصيل | أين في النظام |
|---|---------|----------|----------------|
| 8.1 | الطالب يكتب فيدباك | نمط فيدباك (أسئلة أو نصوص) يملأها الطالب | جدول/نموذج لـ feedback (مثلاً feedback_submissions + feedback_questions أو survey). |
| 8.2 | الأسئلة تقيس المستوى وتقييم المنتور والتدريب | أسئلة الفيدباك تقيس **مستوى الطالب** و**تقييم المنتور** و**تقييم التدريب** | تصميم الأسئلة وتصنيفها (مستوى ذاتي، تقييم منتور، تقييم تدريب)؛ تخزين الإجابات مع التصنيف. |
| 8.3 | تقرير يُرسل للمنتور مباشرة | من إجابات الفيدباك يُولَّد **تقرير يُرسل للمنتور** (مستوى الطالب + التقييمات) | Service أو Job يبني التقرير (نص/PDF) ويربطه بالطالب والمنتور؛ إرسال عبر الإشعارات أو البريد أو صفحة "تقارير الفيدباك" للمنتور. |

---

## المحور ٩: Overview للـ Owner/Member وعدد فرق التست

| # | المتطلب | التفاصيل | أين في النظام |
|---|---------|----------|----------------|
| 9.1 | Overview: ناس بدون تسكات (أو بدون تسكات كافية) | الـ owner أو member يشوف **ناس معندهمش تسكات** (أو أقل من المطلوب) | استعلامات في DashboardController أو ReportService؛ عرض في لوحة تحكم أو صفحة "Member overview". |
| 9.2 | حساب عدد فرق التست المطلوبة | مع وجود فرق فرونت/باك/نود/دوت نت/UI: **كم تيم تست نحتاج؟** (مثلاً ٤ فرونت + ٣ لارافيل + …) | منطق (قواعد أو نسبة) في Service أو في صفحة إعدادات/تقارير؛ عرض "عدد فرق التست الموصى به" أو ما شابه. |

---

## المحور ١٠: أتمتة وتقليل التدخل اليدوي

| # | المتطلب | التفاصيل | أين في النظام |
|---|---------|----------|----------------|
| 10.1 | قواعد تلقائية عند إنشاء المشروع | من عدد الأيام والمجموعة يُحسب تلقائياً عدد التاسكات المطلوب والحدود الدنيا للساعات | في ProjectController/store أو ProjectService؛ validation واقتراحات (أو منع الحفظ إذا النقص كبير). |
| 10.2 | تحذير/منع لو التيم ناقص | مثلاً: مشروع بدون تستر، أو عدد التاسكات أقل من المطلوب | نفس النقاط أعلاه؛ رسائل تحذير أو منع حفظ. |
| 10.3 | توزيع تلقائي للتاسكات (اختياري) | اقتراح أو توزيع تاسكات افتراضية على الأشخاص حسب الأدوار حتى يصل كل طالب لـ ٦ ساعات يومياً | TaskService أو منطق منفصل عند "تهيئة مشروع من قالب" أو "إنشاء تاسكات افتراضية من القواعد". |

---

## ملخص أولويات مقترح (للمراجعة)

1. **البنية الأساسية للتيم والمشروع:** ربط Project ↔ Group؛ أدوار داخل التيم (فرونت/باك/تستر/UI/UX…)؛ أيام عمل بدون جمعة وسبت.
2. **قواعد التاسكات والساعات:** عدد تاسكات أساسية، ٦ ساعات/تاسك، ٣٠ ساعة/أسبوع، ٢٠٪ للـ bugs وتوزيعها.
3. **التستر وإشعاراته:** إشعار عند إنشاء المشروع؛ تعيين تسترات؛ كتابة bugs مع قيد الـ ٢٠٪.
4. **نظام الإشعارات:** جدول وإرسال إشعارات للتستر والعضو والضيف.
5. **الـ Progress والحضور:** progress يومي للطالب؛ ربط الحضور بإكمال الشغل؛ check حضور من المنتور.
6. **حذف الـ Guest:** التأكد أن التاسكات تبقى ولا تُحذف؛ إمكانية إعادة التعيين.
7. **الفيدباك وتقرير المنتور:** أسئلة فيدباك (مستوى + تقييم منتور وتدريب)؛ توليد تقرير وإرساله للمنتور.
8. **Overview وعدد فرق التست:** صفحة overview للناس بدون تسكات؛ حساب/عرض عدد فرق التست المطلوبة.

---

*هذا التقرير للمتطلبات فقط؛ التقرير الأول يصف الكود الحالي. يمكن استخدام الاثنين معاً لوضع خطة تنفيذ وتقدير مهام.*
